@attribute [Authorize]
@page "/dashboard"
@page "/"
@inject NavigationManager _navigationManager;
<div class="container.is-fullhd">
    <div class="columns is-mobile">
        <div class="column">
            <div class="card has-background-warning-light mb-5">
                <header class="card-header has-background-primary">
                    <img class="icon" src="_content/ClientUI.Components/icons/Tasks.png"/>
                    <p class="card-header-title has-text-white has-text-weight-bold pl-0">
                        Tasks
                    </p>
                </header>
                <div class="card-content scrollbar has-background-warning-light p-3">
                    <div class="content ">
                        @foreach (var item in notifications.Where(o => o.ItemGroup == ItemGroup.Task))
                        {
                            <div class="box">
                                <div class="columns">
                                    <div class="column">
                                        <p class="has-text-weight-bold is-size-7">
                                            @item.Title
                                        </p>
                                    </div>
                                    <div class="column">
                                        <p class="has-text-weight-bold is-size-7"> @item.CreateDateTime.ToString("yyyy-MM-dd hh:mm")</p>
                                    </div>
                                </div>
                                <div class="columns">
                                    <div class="column is-size-6">
                                        @item.Body
                                    </div>
                                </div>
                                <div class="tags are-small is-right">
                                    <span class="tag is-primary">Respond...</span>
                                </div>
                            </div>
                        }

                    </div>
                </div>
            </div>
            <div class="card has-background-warning-light">
                <header class="card-header has-background-primary">
                    <img style="width:25px;height:35px;margin:8px;" src="_content/ClientUI.Components/icons/Exclamation.png"/>
                    <p class="card-header-title has-text-white has-text-weight-bold pl-0">
                        Notifications
                    </p>
                </header>
                <div class="card-content scrollbar p-3">
                    <div class="content ">
                        @foreach (var item in notifications.Where(o => o.ItemGroup == ItemGroup.Notification))
                        {
                            <div class="box mb-3">
                                <div class="columns">
                                    <div class="column">
                                        <p class="has-text-weight-bold is-size-7">
                                            @item.Title
                                        </p>
                                    </div>
                                    <div class="column">
                                        <p class="has-text-weight-bold is-size-7"> @item.CreateDateTime.ToString("yyyy-MM-dd hh:mm")</p>
                                    </div>
                                </div>
                                <div class="columns">
                                    <div class="column is-size-6">
                                        @item.Body
                                    </div>
                                </div>
                                <div class="tags are-small is-right">
                                    <span class="tag is-danger">@item.Criticality.GetDisplayDescription()</span>
                                    <span class="tag is-primary">See logs...</span>
                                </div>
                            </div>
                        }
                      
                    </div>
                </div>
            </div>
        </div>
        <div class="column h-100">
            <div class="card has-background-warning-light">
                <header class="card-header has-background-primary">
                    <img class="icon" src="_content/ClientUI.Components/icons/Schedule.png"/>
                    <p class="card-header-title has-text-white has-text-weight-bold pl-0">
                        Upcoming activities
                    </p>
                </header>
                <div class="card-content scrollbar-2 p-3">
                    <div class="content">
                        @foreach (var item in notifications.Where(o => o.ItemGroup == ItemGroup.UpcomingActivity))
                        {
                            <div class="box mb-3">
                                <div class="columns">
                                    <div class="column">
                                        <p class="has-text-weight-bold is-size-7">
                                            @item.Title
                                        </p>
                                    </div>
                                    <div class="column">
                                        <p class="has-text-weight-bold is-size-7"> @item.CreateDateTime.ToString("yyyy-MM-dd hh:mm")</p>
                                    </div>
                                </div>
                                <div class="columns">
                                    <div class="column is-size-6">
                                        @item.Body
                                    </div>
                                </div>
                                <div class="tags are-small is-right">
                                    <span class="tag is-primary">See details...</span>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
        <div class="column h-100">
            <div class="card has-background-warning-light">
                <header class="card-header has-background-primary">
                    <img class="icon" src="_content/ClientUI.Components/icons/History.png"/>
                    <p class="card-header-title has-text-white has-text-weight-bold pl-0">
                        Activity Stream
                    </p>
                </header>
                <div class="card-content scrollbar-2 p-3">
                    <div class="content">
                        @foreach (var item in notifications.Where(o => o.ItemGroup == ItemGroup.ActivityStream))
                        {
                            <div class="box mb-3">
                                <div class="columns">
                                    <div class="column">
                                        <p class="has-text-weight-bold is-size-7">
                                            @item.Title
                                        </p>
                                    </div>
                                    <div class="column">
                                        <p class="has-text-weight-bold is-size-7"> @item.CreateDateTime.ToString("yyyy-MM-dd hh:mm") </p>
                                    </div>
                                </div>
                                <div class="columns">
                                    <div class="column is-size-6">
                                        @item.Body
                                    </div>
                                </div>
                                <div class="tags are-small is-right">
                                    <span class="tag is-primary">See details...</span>
                                </div>
                            </div>
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
